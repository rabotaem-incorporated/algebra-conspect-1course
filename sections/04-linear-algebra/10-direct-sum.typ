#import "../../utils/core.typ": *

== Прямая сумма

#def[
    Пусть $W_1, ..., W_k < V$. Говорят, что $V$ раскладывается во внутреннюю сумму, если $V = W_1, ..., W_k$, если 
    $
        forall v in V "существует единственный набор" w_1 in W_1, ..., w_k in W_k: v = w_1 + ... + w_k.
    $
    Обозначается $V = W_1 plus.circle ... plus.circle W_k$.


]

#let pc = sym.plus.circle

#notice[
    Сумма подпространств понимается в смысле Миньковского: $w_1 + ... + w_k = {w_1 + ... + w_k bar w_j in W_j}$.
]

#props[
    Пусть $W_1, ..., W_k <= V$. Тогда следующие условия эквивалентны:

    + $V = W_1 plus.circle ... plus.circle W_k$.
    + $V = W_1 + ... + W_k$ и если $w_1 + ... + w_k = 0$, где $w_1 in W_1$, ..., $w_k in W_k$, то $w_1 = ... = w_k = 0$.
    + $V = W_1 + ... + W_k$ и $W_j sect (W_1 + ... + accent(W_j, "^") + W_k) = 0. $

]

#proof[
    / "$1 ==> 2$": $ w_1 + ... + w_k = 0 = 0 + ... + 0 imply^#[разложение\ единственно] w_1 = 0, ..., w_k = 0 $

    / "$2 ==> 1$": $ w_1 + ... + w_k = w_1' + ... + w_k' $ $ underbrace(w_1 - w_1', in W_1) + ... + underbrace(w_k - w_k', in W_k) = 0 imply w_1 -  w_1' = ... = w_k - w_k' = 0 $

    / "$1 ==> 3$": $ w in W_j sect (W_1 + ... + accent(W_j, "^") + ... + W_k). $
        $ w = w_1 + ... + accent(w_j, "^") + ... + w_k = 0 + ... + 0 + w + 0 + ... + 0 ==> w = 0. $

    / "$3 ==> 2$": $ w_1 + ... + w_k = 0 $ и $exists j : w_j != 0.$ $ w_j = -w_1 - ... - hat(w_j) - ... - w_k in W_1 + ... + hat(W_j) + ... + W_k ==> w_j = 0 $ --- противоречие.
]

#def[
    Пусть $V_1, ..., V_k$ --- линейное пространство над $K$. Тогда над $V_1 times ... times V_k$ можно ввести операцию сложения и умножения на скаляр. Получится линейное пространство, называемое _Внешней Прямой Суммой_ $V_1, ..., V_k$.
]

#props[
    $W_1, ..., W_k$ --- подпространство, тогда еквивалентны:
    + $V = W_1 pc ... pc W_k$.
    + $W_1 times ... times W_k arrow.long V$ --- биекция (причем биекция, сохраняющая структуру линейного пространства)
        $(w_1, ..., w_k) arrow.long.bar w_1 + ... + w_k$.
]

#lemma[
    Пусть $V = W_1 pc ... pc W_k; space$ в $W_j$ зафиксируем базис $e_(j 1), ..., e_(j d_j)$

    Тогда совокупность всех $(e_(j l) bar 1 <= j <= k, 1 <= l <= d_j)$ --- базис $V$.
]

#exercise[
    Доказать #emoji.face.smile.
]

#follow[
    $dim (W_1 pc W_2 pc ... pc W_k) = dim W_1 + dim W_2 + ... + dim W_k$.
]
